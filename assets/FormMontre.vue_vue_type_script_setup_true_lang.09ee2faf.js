import{_ as w}from"./montrecarre.vue_vue_type_script_setup_true_lang.6893eb14.js";import{d as v,o as x,i as $,h as d,a as l,n as f,t as _,u as g,f as F,s as m,j as C,w as E,c as V,g as o,m as j,F as B,k as K}from"./index.86029b13.js";const M={"#808080":"Gris","#E41f3d":"Rouge-clair","#0D3625":"Vert fonc\xE9","#CF3737":"Rouge","#AF9D87":"Beige","#50AFE4":"Bleu","#7F5084":"Violet","#E43F72":"Magenta"},y=[{value:"93daca95-15e7-4459-8e87-c65c5e55a4b8",label:"Cuir"},{value:"3064fd19-069b-4977-b80d-6c91d4e02501",label:"Tissu"},{value:"4bc02c6b-ecf9-4c2b-8e16-f71bd2d91caa",label:"Synth\xE9tique"}],S={class:"sr-only"},b=v({__name:"FormKitListColors",props:{name:null,label:null},setup(i){return(r,p)=>{const t=F("FormKit");return x(),$(t,{name:i.name,label:i.label,value:"#FFFFFF",type:"radio",config:{classes:{label:"font-semibold"}},options:g(M),"sections-schema":{inner:{$el:null},decorator:{$el:null}},"input-class":"peer sr-only","options-class":"flex gap-4"},{label:d(c=>[l("div",{class:"w-14 h-14 rounded-full border-4 peer-checked:border-red-600 my-4",style:f({backgroundColor:c.option.value})},null,4),l("span",S,_(c.option.label),1)]),_:1},8,["name","label","options"])}}}),A=l("h2",{class:"flex justify-center items-center font-bold text-4xl my-8"},"Customisez votre montre",-1),D={class:"p-2 flex"},R={class:"w-1/2 border-4 border-black"},q={class:"w-1/2 border-4 border-black p-4"},z={class:"sr-only"},I={class:"sr-only"},L=v({__name:"FormMontre",props:{data:null,id:null},async setup(i){var h;let r,p;const t=i;m.auth.user();const c=K(),u=C((h=t.data)!=null?h:{});if(t.id){let{data:n,error:a}=([r,p]=E(()=>m.from("montre").select("*").eq("id",t.id)),r=await r,p(),r);a||!n?console.log("n'a pas pu charger le table Montre :",a):u.value=n[0]}async function k(n,a){const{data:s,error:e}=await m.from("montre").upsert(n);e?a.setErrors([e.message]):(a.setErrors([]),c.push({name:"montre-edit-id",params:{id:s[0].id}})),console.log("erreur",e),console.log("data",s)}return(n,a)=>{const s=F("FormKit");return x(),V(B,null,[A,l("div",D,[l("div",R,[o(w,j({class:""},u.value,{id:"profil"}),null,16)]),l("div",q,[o(s,{type:"form",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),config:{classes:{label:"super-red"}},"submit-attrs":{classes:{input:" flex justify-center  bg-black p-1 rounded-xl w-full text-[20px] font-semibold  text-white",outer:"mt-5"}},onSubmit:k},{default:d(()=>[o(b,{name:"boitier",label:"boitier"}),o(s,{name:"materiaux_boitier",label:"materiau boitier",value:"src/assets/cuir.jpg",type:"radio",options:g(y),"sections-schema":{inner:{$el:null},decorator:{$el:null}},"input-class":"peer sr-only","options-class":"flex gap-1"},{label:d(e=>[l("div",{class:"w-14 h-14 rounded-full border-4 peer-checked:border-red-600",style:f({backgroundImage:`url(${e.option.value})`})},null,4),l("span",z,_(e.option.label),1)]),_:1},8,["options"]),o(b,{name:"bracelet",label:"bracelet"}),o(s,{name:"materiaux_bracelet",label:"materiau bracelet",value:"../../public/materiau/cuir.jpg",type:"radio",options:g(y),"sections-schema":{inner:{$el:null},decorator:{$el:null}},"input-class":"peer sr-only","options-class":"flex gap-1"},{label:d(e=>[l("div",{class:"w-14 h-14 rounded-full border-4 peer-checked:border-red-600",style:f({backgroundImage:`url(${e.option.value})`})},null,4),l("span",I,_(e.option.label),1)]),_:1},8,["options"]),o(b,{name:"ecran",label:"ecran","label-class":"font-bold text-red"}),o(s,{name:"favori",label:"ajouter en favori",type:"checkbox","wrapper-class":"flex p-2 gap-2"})]),_:1},8,["modelValue"])])])],64)}}});export{L as _};
